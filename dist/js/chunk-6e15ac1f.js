(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e15ac1f"],{"05a5":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"col-md-12 p-0"},[a("div",{staticClass:"theme-primary partition"},[e.header?a("span",{staticClass:"p-name text-white"},[e._v(e._s(e.GetLocalizedValue(e.header)))]):e._e()])]),e.showExpenseContent()?a("div",{staticClass:"pt-2 mb-1 w-100 d-none d-lg-block"},[e._m(0)]):e._e(),e.showExpenseContent()?a("div",{staticClass:"mt-2",staticStyle:{"max-height":"700px"},attrs:{id:"divscrollsetuptabs"}},[a("ul",{staticClass:"nav nav-pills flex-column left-tab responivecustomtab lefttabiconfix lefttabflexible",attrs:{id:"upper",role:"tablist"}},e._l(e.Fields,(function(t){return a("li",[a("a",{staticClass:"nav-link left-menu",attrs:{"data-toggle":"tab",href:t.href,id:t.id,privilege:t.privilege},on:{click:function(a){return e.setActiveKey(t)}}},[a("i",{class:t.fieldIcon,attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.GetLocalizedValue(t.fieldName))+" ")])])})),0)]):e._e(),e.showExpenseContent()?e._e():a("div",{staticClass:"accordion md-accordion left-filter mt-2",attrs:{id:"accordionEx",role:"tablist","aria-multiselectable":"true"}},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header filter-head",attrs:{role:"tab",id:"headingOne1"}},[a("h5",{staticClass:"mb-0"},[a("em",{staticClass:"fa fa-filter",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.GetLocalizedValue(e.$t("Search")))+" "),a("span",{staticClass:"expand_all_filters"},[a("span",{attrs:{id:"SearchData"},on:{click:function(t){return e.SearchData()}}},[a("a",{staticClass:"collapsed",attrs:{href:"javascript:;",title:e.$t("Search"),"data-toggle-tooltip":"tooltip"}},[a("em",{staticClass:"fa fa-search",attrs:{"aria-hidden":"true"}})])]),a("span",{on:{click:function(t){return e.ClearFilter()}}},[a("a",{staticClass:"collapsed",attrs:{title:e.$t("Reset"),href:"javascript:;","data-toggle-tooltip":"tooltip"}},[a("em",{staticClass:"fa fa-repeat",attrs:{"aria-hidden":"true"}})])]),a("span",{staticClass:"collapsed",attrs:{"data-target":".multi-collapse","data-toggle":"collapse"},on:{click:function(t){return e.ExpandCollapsedAll()}}},[a("a",{staticClass:"collapsed",attrs:{href:"javascript:;",title:e.$t("ExpandAllCollapseAll"),"data-toggle-tooltip":"tooltip"}},[a("em",{staticClass:"fa fa-sort-desc",attrs:{"aria-hidden":"true"}})])])])])])]),a("div",{staticClass:"card-panel"},e._l(e.Fields,(function(t,s){return a("div",{key:s,staticClass:"card"},[a("div",{staticClass:"card-header",attrs:{role:"tab",id:"headingOnee"+s}},[a("h5",{staticClass:"mb-0"},[a("a",{staticClass:"collapsed",attrs:{"data-toggle":"collapse","data-parent":"#accordionEx",href:"#collapseOne"+s,"aria-expanded":"false","aria-controls":"collapseOne"+s}},[a("em",{class:"fa "+t.fieldIcon,attrs:{"aria-hidden":"true"}}),a("span",{class:{filter:t.isSearch}},[e._v(e._s(e.GetLocalizedValue(t.fieldName)))]),a("em",{staticClass:"fa fa-angle-down rotate-icon",attrs:{"aria-hidden":"true"}})]),a("a",{class:{"tab-Search-btn":!0,"d-block":t.value.length>0},attrs:{href:"javascript:;"},on:{click:function(t){return e.SearchData()}}},[a("em",{staticClass:"fa fa-search",attrs:{"aria-hidden":"true"}})])])]),a("div",{staticClass:"collapse multi-collapse",attrs:{id:"collapseOne"+s,role:"tabpanel","aria-labelledby":"headingOnee"+s,"data-parent":"#accordionEx"}},[a("div",{staticClass:"card-body pt-0"},["text"==t.fieldType?a("div",{staticClass:"form-group"},["checkbox"===(1==t.isNumeric?"number":"text")?a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"field.value"}],staticClass:"form-control search",attrs:{placeholder:t.fieldName+" ",type:"checkbox"},domProps:{checked:Array.isArray(t.value)?e._i(t.value,null)>-1:t.value},on:{keydown:function(a){return e.SearchOnEnter(a,t)},change:function(a){var s=t.value,i=a.target,l=!!i.checked;if(Array.isArray(s)){var o=null,r=e._i(s,o);i.checked?r<0&&e.$set(t,"value",s.concat([o])):r>-1&&e.$set(t,"value",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(t,"value",l)}}}):"radio"===(1==t.isNumeric?"number":"text")?a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"field.value"}],staticClass:"form-control search",attrs:{placeholder:t.fieldName+" ",type:"radio"},domProps:{checked:e._q(t.value,null)},on:{keydown:function(a){return e.SearchOnEnter(a,t)},change:function(a){return e.$set(t,"value",null)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"field.value"}],staticClass:"form-control search",attrs:{placeholder:t.fieldName+" ",type:1==t.isNumeric?"number":"text"},domProps:{value:t.value},on:{keydown:function(a){return e.SearchOnEnter(a,t)},input:function(a){a.target.composing||e.$set(t,"value",a.target.value)}}})]):e._e(),"date"==t.fieldType||"date-range"==t.fieldType?a("div",{staticClass:"form-group"},[a("div",{class:{"input-group":!0,"mb-2":"date-range"==t.fieldType}},[a("v-date-picker",{staticClass:"input-group",attrs:{popover:e.popover,"model-config":e.modelConfig,"minute-increment":5,name:"DateFrom"+s,change:e.SetMinMaxValueForDatePicker(t,"datefrom"),"max-date":t.datePickerConfig.maxDate},scopedSlots:e._u([{key:"default",fn:function(s){var i=s.inputValue,l=s.inputEvents,o=s.togglePopover;return[a("input",e._g({staticClass:"form-control",attrs:{placeholder:"date-range"==t.fieldType?e.$t("DateFrom"):t.fieldName},domProps:{value:i}},l)),a("div",{staticClass:"input-group-append",on:{click:function(e){return o()}}},[a("span",{staticClass:"input-group-text"},[a("em",{staticClass:"fa fa-calendar"})])])]}}],null,!0),model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"field.value"}})],1),"date-range"==t.fieldType?a("div",{class:{"input-group":!0,disabled:!t.secondDatePickerConfig.minDate}},[a("v-date-picker",{staticClass:"input-group",attrs:{popover:e.popover,"model-config":e.modelConfig,"minute-increment":5,name:"DateTo"+s,change:e.SetMinMaxValueForDatePicker(t,"dateto"),"min-date":t.secondDatePickerConfig.minDate},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.inputValue,i=t.inputEvents,l=t.togglePopover;return[a("input",e._g({staticClass:"form-control",attrs:{placeholder:e.$t("DateTo")},domProps:{value:s}},i)),a("div",{staticClass:"input-group-append",on:{click:function(e){return l()}}},[a("span",{staticClass:"input-group-text"},[a("em",{staticClass:"fa fa-calendar"})])])]}}],null,!0),model:{value:t.secondValue,callback:function(a){e.$set(t,"secondValue",a)},expression:"field.secondValue"}})],1):e._e()]):e._e(),"radio"==t.fieldType||"checkbox"==t.fieldType?a("div",{staticClass:"form-group"},e._l(t.listOptions,(function(i,l){return a("div",{key:l,class:{"custom-control w-auto custom-control-inline":!0,"custom-radio":"radio"==t.fieldType,"custom-checkbox":"checkbox"==t.fieldType}},["radio"==t.fieldType?a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"field.value"}],staticClass:"custom-control-input dynamic",attrs:{type:"radio",id:"customcheckbox"+s+l,name:"selectedDealOwner"},domProps:{value:i.value,checked:e._q(t.value,i.value)},on:{change:function(a){return e.$set(t,"value",i.value)}}}):e._e(),"checkbox"==t.fieldType?a("input",{staticClass:"custom-control-input dynamic",attrs:{type:"checkbox",id:"customcheckbox"+s+l,name:"selectedDealOwner"},domProps:{checked:e.CheckIfSelected(t,i.value),value:i.value},on:{change:function(a){return e.UpdateCheckedValues(t,i.value,a)}}}):e._e(),a("label",{staticClass:"custom-control-label",attrs:{for:"customcheckbox"+s+l}},[e._v(e._s(i.name))])])})),0):e._e(),"ddl-radio"==t.fieldType||"ddl-check"==t.fieldType?a("div",{staticClass:"form-group"},[a("vue-scroll",[a("div",{staticClass:"w-100 d-flex flex-wrap filterscroll filterscroll_leftsearch"},e._l(t.listOptions,(function(i,l){return a("button",{key:l,class:{"btn search-tag searchtagfloat float-left":!0,"d-none":e.CheckValueSelectedForbadge(i.value,t.value,t.isSearch)},attrs:{type:"button"}},[a("span",{staticClass:"tag-name"},[e._v(e._s(i.name))]),a("span",{staticClass:"badge text-dark",on:{click:function(a){return e.ClearFilerForbadge(i.value,t,s)}}},[e._v("Ã—")])])})),0)]),a("div",{staticClass:"w-100"},[a("div",{staticClass:"p-0 mb-1 w-100"},[a("div",{staticClass:"input-group customsearchbox"},[a("input",{staticClass:"form-control searchcustomfilter border-right-0",attrs:{type:"text",Placeholder:e.$t("Search"),autocomplete:"off"}}),e._m(1,!0)])]),a("vue-scroll",[a("div",{staticClass:"form-group filterscroll filterscroll_leftsearch",staticStyle:{"max-height":"200px"}},["ddl-check"==t.fieldType?a("div",{staticClass:"custom-control custom-checkbox custom-control-inline w-100"},[a("input",{staticClass:"custom-control-input dynamic customcheckboxselectall",attrs:{id:"customcheckboxselectall"+s,type:"checkbox"},on:{change:function(a){return e.SelectAllRecords(t,a)}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"customcheckboxselectall"+s,type:"checkbox"}},[e._v("Select All")])]):e._e(),e._l(t.listOptions,(function(i,l){return a("div",{key:l,class:{"custom-control custom-checkbox custom-control-inline w-100":!0,"custom-radio":"ddl-radio"==t.fieldType,"custom-checkbox":"ddl-check"==t.fieldType}},["ddl-radio"==t.fieldType?a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"field.value"}],staticClass:"custom-control-input dynamic",attrs:{type:"radio",id:"customcheckbox"+s+l,name:"selectedDealOwner"},domProps:{value:i.value,checked:e._q(t.value,i.value)},on:{change:function(a){return e.$set(t,"value",i.value)}}}):e._e(),"ddl-check"==t.fieldType?a("input",{staticClass:"custom-control-input dynamic",attrs:{type:"checkbox",id:"customcheckbox"+s+l,name:"selectedDealOwner"},domProps:{checked:e.CheckIfSelected(t,i.value),value:i.value},on:{change:function(a){return e.UpdateCheckedValues(t,i.value,a,"customcheckboxselectall"+s)}}}):e._e(),a("label",{staticClass:"custom-control-label",attrs:{for:"customcheckbox"+s+l}},[e._v(e._s(i.name))])])}))],2)])],1)],1):e._e()])])])})),0)]),e.showExpenseContent()?e._e():a("div",{staticClass:"bottom_filter_button",on:{click:e.ExpandAllCollapseAll}},[a("a",{staticClass:"collapsed",attrs:{href:"javascript:;","data-target":".multi-collapse","data-toggle":"collapse"},on:{click:e.ExpandCollapsedAll}},[e._v(e._s(e.$t("ExpandAllCollapseAll")))])])])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"input-group customsearchbox"},[a("input",{staticClass:"form-control searchcustomfilter border-right-0",attrs:{type:"text",maxlength:"50",placeholder:"Search by Name",autocomplete:"off"}}),a("div",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text bg-transparent bg-white border-left-0"},[a("i",{staticClass:"fa fa-search"})])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text bg-transparent bg-white border-left-0"},[a("em",{staticClass:"fa fa-search"})])])}],l=(a("5319"),a("c1df")),o=a.n(l),r={props:{fields:{type:Array,required:!0},header:{type:String,required:!0},modulename:{type:String,required:!0},for:{type:String,required:!1}},data:function(){return{Fields:this.fields,popover:{visibility:"click"},modelConfig:{type:"string",mask:"YYYY-MM-DD"}}},watch:{fields:function(e){this.Fields=null!=e&&e.length>0?e:[]}},created:function(){},methods:{showExpenseContent(){return"ExpenseReport"==this.for},isBlank:function(e){return!e||/^\s*$/.test(e)},GetLocalizedValue:function(e,t){try{if(this.isBlank(t)){var a=this.$t(String(e).toUpperCase());return a!=String(e).toUpperCase()?a:(a=this.$t(String(e)),a||1==/^\s*$/.test(a)?a:e)}a=this.$t(String(t).toUpperCase());return a!=String(t).toUpperCase()?a:(a=this.$t(String(t)),a||1==/^\s*$/.test(a)?a:t)}catch(s){console.log(s)}},ExpandCollapsedAll:function(){},ClearFilter:function(){$.each(this.Fields,(function(e,t){t.isSearch=!1,t.value="",t.secondValue="","ddl-check"==t.fieldType&&$("#customcheckboxselectall"+e).prop("checked",!1),$(".tab-Search-btn").css("display","none")})),$(".searchcustomfilter").val(""),$(".searchcustomfilter").trigger("keyup"),this.SearchData()},CheckValueSelectedForbadge:function(e,t,a){var s=t.split(",");return!s.includes(e)||1!=a},ClearFilerForbadge:function(e,t,a){var s=t.value.split(","),i=s.indexOf(e);s.splice(i,1),t.value=s.join(",");try{"ddl-check"==t.fieldType&&(t.value.split(",").length==t.listOptions.length?$("#customcheckboxselectall"+a).prop("checked",!0):$("#customcheckboxselectall"+a).prop("checked",!1))}catch(l){}this.SearchData()},UpdateCheckedValues:function(e,t,a,s){if(1==a.target.checked)if(""!=e.value){var i=e.value.split(",");i.push(t),e.value=i.join(",")}else e.value=t;else{i=e.value.split(",");var l=i.indexOf(t);i.splice(l,1),e.value=i.join(",")}try{e.value.split(",").length==e.listOptions.length?$("#"+s).prop("checked",!0):$("#"+s).prop("checked",!1)}catch(o){}},CheckIfSelected:function(e,t){var a=e.value.split(","),s=a.indexOf(t);return s>-1},SetMinMaxValueForDatePicker:function(e,t){if("date-range"==e.fieldType)if("datefrom"==t&&null!=e.value&&""!=e.value){var a=o()(e.value,e.datePickerConfig.format);e.secondDatePickerConfig.minDate=new Date(a)}else if("dateto"==t&&null!=e.secondValue&&""!=e.secondValue){a=o()(e.secondValue,e.secondDatePickerConfig.format);e.datePickerConfig.maxDate=new Date(a)}},SearchData:function(){var e=this,t="";"CRM"!=e.modulename&&"HR"!=e.modulename&&"Expenses"!=e.modulename&&"FSM"!=e.modulename&&"ExpenseApproval"!=e.modulename||$.each(e.Fields,(function(a,s){switch(s.fieldType){case"text":if(s.value.length>0&&s.fieldSearchConditionName.length>0){t+=""!=$.trim(t)?" AND (":"(";var i="",l=s.value.replace(/'/g,"''");s.fieldSearchConditionName.forEach((function(e){i+=""!=$.trim(i)?" OR ":"(",i+=" "+e+" LIKE '%"+l+"%'"}));var r="";s.fieldSearchConditionName.length>1&&(r="/CRM/ContactListing"==e.$route.path?" OR "+s.fieldSearchConditionName.join(" %2B ' ' %2B ")+" LIKE '%"+l+"%'":" OR "+s.fieldSearchConditionName.join("+' '+")+" LIKE '%"+l+"%'"),i+=r+")",t+=i+")",s.isSearch=!0}else s.isSearch=!1;break;case"ddl-radio":case"radio":if(s.value.length>0&&s.fieldSearchConditionName.length>0){t+=""!=$.trim(t)?" AND (":"(";i="";s.fieldSearchConditionName.forEach((function(e){i+=""!=$.trim(i)?" OR ":"(",i+=" "+e+" = '"+s.value+"'"})),i+=")",t+=i+")",s.isSearch=!0}else s.isSearch=!1;break;case"ddl-check":case"checkbox":if(s.value.length>0&&s.fieldSearchConditionName.length>0){t+=""!=$.trim(t)?" AND (":"(";i="";var n=s.value.split(","),c="'"+n.join("','")+"'";s.fieldSearchConditionName.forEach((function(e){i+=""!=$.trim(i)?" OR ":"(",i+=" "+e+" in ("+c+")"})),i+=")",t+=i+")",s.isSearch=!0}else s.isSearch=!1;break;case"date":if(null!=s.value&&s.value.length>0&&s.fieldSearchConditionName.length>0){t+=""!=$.trim(t)?" AND (":"(";i="";var d=o()(s.value,s.datePickerConfig.format),m=d.format("YYYY-MM-DD");s.fieldSearchConditionName.forEach((function(e){i+=""!=$.trim(i)?" OR ":"(",i+=" CONVERT(DATE, "+e+") = '"+m+"'"})),i+=")",t+=i+")",s.isSearch=!0}else s.isSearch=!1;break;case"date-range":if((null!=s.value&&s.value.length>0||null!=s.secondValue&&s.secondValue.length>0)&&s.fieldSearchConditionName.length>0){t+=""!=$.trim(t)?" AND (":"(";i="";s.fieldSearchConditionName.forEach((function(e){i+=""!=$.trim(i)?" OR ":"(";var t=e.split("|"),a="";if(null!=s.value&&s.value.length>0){let e=o()(s.value,s.datePickerConfig.format),i=e.format("YYYY-MM-DD");a=" CONVERT(DATE, "+t[0]+") >= '"+i+"'"}if(null!=s.secondValue&&s.secondValue.length>0){let e=o()(s.secondValue,s.secondDatePickerConfig.format),i=e.format("YYYY-MM-DD");a+=""!=$.trim(a)?" AND ":"",a+=" CONVERT(DATE, "+t[1]+") <= '"+i+"'"}i+=a})),i+=")",t+=i+")",s.isSearch=!0}else s.isSearch=!1;break}})),this.$emit("SetLeftSearch",{PageNumber:1,searchCondition:t})},SearchOnEnter:function(e,t){void 0!=t.isNumeric&&1==t.isNumeric&&0==/[0-9]/.test(e.key)&&"Backspace"!=e.key&&e.preventDefault(),13==e.keyCode&&this.SearchData()},SelectAllRecords:function(e,t){if(1==t.target.checked){var a="";e.listOptions.forEach((function(e){a+=""==a?e.value:","+e.value})),e.value=a}else e.value=""},setActiveKey(e){let t=1;switch(e.id){case"aExpenseOverLimitReport":t=1;break;case"aExpenseReport":t=2;break;case"aReimbursementReport":t=3;break;default:break}this.$emit("SetLeftSearch",t)}}},n=r,c=(a("a090"),a("2877")),d=Object(c["a"])(n,s,i,!1,null,null,null);t["a"]=d.exports},"20bd":function(e,t,a){var s=a("24fb");t=s(!1),t.push([e.i,".__bar-is-horizontal,.__bar-is-vertical{background:rgb(146 146 146)!important}",""]),e.exports=t},"9c20":function(e,t,a){var s=a("20bd");"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("499e").default;i("ea212430",s,!0,{sourceMap:!1,shadowMode:!1})},"9d1d":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-popups"},[a("div",{staticClass:"modal d-block"},[a("div",{staticClass:"modal-dialog modal-dialog-centered"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[e._v(" "+e._s(this.CommentHeader)+" ")]),a("button",{staticClass:"close",attrs:{href:"javascript:;"},on:{click:function(t){return e.CloseExpenseComments()}}},[a("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"modal-body"},[a("Form",{ref:"CommentForm",scopedSlots:e._u([{key:"default",fn:function(t){var s=t.valid,i=t.errors;return[1==e.visibility?a("div",{class:{"d-none":1==e.showModelClientCompany}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.$t("Title"))+":"),a("span",{staticClass:"text-danger"},[e._v("*")])]),a("Field",{attrs:{name:"Title",rules:{required:!0},label:"Title"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:e.CommentTitle,expression:"CommentTitle"}],class:{"form-control":!0,"is-invalid":s[0]},attrs:{name:"Title",id:"Title",type:"text",maxlength:"100"},domProps:{value:e.CommentTitle},on:{input:function(t){t.target.composing||(e.CommentTitle=t.target.value)}}}),s[0]?a("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Name"}},[e._v(e._s(s[0]))]):e._e()]}}],null,!0)})],1),a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.$t("Description"))+":"),a("span",{staticClass:"text-danger"},[e._v("*")])]),a("Field",{attrs:{name:"Description",rules:{required:!0},label:"Description"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors;return[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.Commentdesc,expression:"Commentdesc"}],class:{"form-control":!0,"is-invalid":s[0]},staticStyle:{"max-height":"300px!important","min-height":"100px!important"},attrs:{maxlength:"250",id:"description",name:"Description"},domProps:{value:e.Commentdesc},on:{input:function(t){t.target.composing||(e.Commentdesc=t.target.value)}}}),e._v(" "),s[0]?a("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Name"}},[e._v(e._s(s[0]))]):e._e()]}}],null,!0)})],1),1==e.access?a("div",{staticClass:"form-group"},[a("label",[e._v("Visibility:"),a("span",{staticClass:"text-danger"},[e._v("*")])]),a("div",{staticClass:"form-control pl-0 border-0"},[a("Field",{attrs:{name:"ReimburseBy",rules:{required:!0},label:"Reimburse By"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors;return[a("div",{staticClass:"form-check form-check-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.SelectedVale,expression:"SelectedVale"}],attrs:{type:"radio",id:"Public",value:"Public",name:"Public"},domProps:{checked:e._q(e.SelectedVale,"Public")},on:{change:function(t){e.SelectedVale="Public"}}}),a("label",{staticClass:"form-check-label font-weight-normal ml-2",attrs:{for:"Client"}},[e._v(e._s(e.$t("Public")))])]),a("div",{staticClass:"form-check form-check-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.SelectedVale,expression:"SelectedVale"}],attrs:{type:"radio",id:"Private",value:"Private",name:"Company"},domProps:{checked:e._q(e.SelectedVale,"Private")},on:{change:function(t){e.SelectedVale="Private"}}}),a("label",{staticClass:"form-check-label font-weight-normal ml-2",attrs:{for:"Company"}},[e._v(e._s(e.$t("Private")))])]),s[0]?a("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Name"}},[e._v(e._s(s[0]))]):e._e()]}}],null,!0)})],1)]):e._e()]),a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"row flex-row-reverse"},[1==e.isSingleCommentforMultipleExpenses?a("div",{staticClass:"col-lg-6 text-right"},[a("a",{staticClass:"btn btn-danger mr-2",attrs:{title:"Skip",href:"javascript:;"},on:{click:function(t){return e.Skip(s,i)}}},[a("span",[e._v(e._s(e.$t("Skip")))]),a("em",{staticClass:"fa fa-forward pl-2"})]),a("a",{staticClass:"btn btn-success",attrs:{title:e.$t("PostNewComment"),href:"javascript:;"},on:{click:function(t){return e.APostNewComment(s,i)}}},[a("em",{staticClass:"fa fa-send pr-2"}),a("span",[e._v(e._s(e.$t("PostNewComment")))])])]):e._e(),0==e.isSingleCommentforMultipleExpenses?a("div",{staticClass:"col-lg-6 text-right"},[a("a",{staticClass:"btn btn-success",attrs:{id:"postcomment",title:e.$t("PostNewComment"),href:"javascript:;"},on:{click:function(t){return e.PostNewComment(s,i)}}},[a("em",{staticClass:"fa fa-send pr-2"}),e._v(e._s(e.$t("PostNewComment")))])]):e._e(),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"py-2"},[a("small",{staticClass:"text-danger mandatory"},[e._v(e._s(e.$t("MandatoryString")))])])])])])])]):e._e(),1==e.isSingleCommentforMultipleExpenses?a("div",[a("div",{staticClass:"col-lg-12"},[e.showModelClientCompany?a("div",{staticClass:"row"},[a("div",{staticClass:"w-100 col-12"},[a("div",{staticClass:"alert alert-warning mb-3"},[e._v(" "+e._s(e.$t("ExpenseEntryWillBeReimbursedBy"))+" ")]),a("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left p-0"},[a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.$t("ReimburseBy"))+":"),a("span",{staticClass:"text-danger"},[e._v("*")])]),a("div",{staticClass:"form-control pl-0 border-0"},[a("Field",{attrs:{name:"ReimburseBy",rules:{required:!0},label:"Reimburse By"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors;return[a("div",{staticClass:"form-check form-check-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.SelectedVale,expression:"SelectedVale"}],attrs:{type:"radio",id:"Client",value:"Client",name:"ReimburseBy"},domProps:{checked:e._q(e.SelectedVale,"Client")},on:{change:function(t){e.SelectedVale="Client"}}}),a("label",{staticClass:"form-check-label font-weight-normal ml-2",attrs:{for:"Client"}},[e._v(e._s(e.$t("Client")))])]),a("div",{staticClass:"form-check form-check-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.SelectedVale,expression:"SelectedVale"}],attrs:{type:"radio",id:"Company",value:"Company",name:"ReimburseBy"},domProps:{checked:e._q(e.SelectedVale,"Company")},on:{change:function(t){e.SelectedVale="Company"}}}),a("label",{staticClass:"form-check-label font-weight-normal ml-2",attrs:{for:"Company"}},[e._v(e._s(e.$t("Company")))])]),s[0]?a("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Name"}},[e._v(e._s(s[0]))]):e._e()]}}],null,!0)})],1)])]),a("div",{staticClass:"col-lg-12 text-right p-0"},[a("div",{staticClass:"search-btm-btn"},[a("a",{staticClass:"btn btn-success",attrs:{title:"submit",href:"javascript:;"},on:{click:function(t){return e.SubmitExpenseApproval(s,i,"Skip")}}},[a("i",{staticClass:"fa fa-save pr-2"}),e._v(e._s(e.$t("Submit")))])])])])]):e._e()])]):e._e()]}}])}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[0==e.isSingleCommentforMultipleExpenses?a("div",{staticClass:"listing"},[a("div",{staticClass:"w-100 activity-tab",attrs:{id:"Expenseaccordion"}},e._l(e.CommentExpenseData,(function(t,s){return a("div",{key:s,staticClass:"card"},[a("div",{staticClass:"card-header"},[a("a",{staticClass:"card-link collapsed",attrs:{"data-toggle":"collapse",href:"#Expensecollapse"+s}},[a("div",{staticClass:"conversation-date heading-border"},[a("span",[a("em",{staticClass:"pr-1",attrs:{"aria-hidden":"true"}}),e._v(e._s(t.groupKey))])])])]),a("div",{class:{collapse:!0,show:0==s},attrs:{id:"Expensecollapse"+s}},e._l(t.groupData,(function(s,i){return a("div",{key:i,staticClass:"card-body"},[1==s.EXPENSE_ACCESS?a("div",{staticClass:"conversation-main"},[a("div",{staticClass:"conversation-time"},[a("span",[e._v(e._s(e.$options.filters.formatTime(s.CREATED_AT)))])]),a("div",{staticClass:"conversation-box-con"},[a("div",{staticClass:"conversation-box"},[a("div",{staticClass:"name-circle light-yellow"},[a("img",{staticClass:"img-circle avatar",attrs:{src:e.blobUrl,width:"51",height:"51",alt:"Image"}})]),a("div",{staticClass:"conversation-header addednote-ticket"},[a("span",[a("span",{staticClass:"sender-name"},[e._v(e._s(s.EXPENSE_COMMENT_TITLE))]),a("span",{staticClass:"sender-department",attrs:{title:t.EXPENSE_COMMENT_DESC}},[e._v(" ("+e._s(s.EXPENSE_COMMENT_DESC)+")")])])]),a("div",{staticClass:"conversation-content"},[a("div",{staticClass:"col-12 p-0 notesdata"},[a("h6",{staticClass:"text-muted time"},[a("i",[a("b",[e._v(e._s(s.CREATED_BY))]),e._v(", "+e._s(e.$t("PostedOn"))+": "),a("span",{staticClass:"text-danger"},[e._v(e._s(e.$options.filters.formatDateTime(s.CREATED_AT)))])])])])])])])]):e._e(),0==s.EXPENSE_ACCESS?a("div",{staticClass:"conversation-main"},[a("div",{staticClass:"conversation-time"},[a("span",[e._v(e._s(s.CREATED_AT))])]),a("div",{staticClass:"conversation-box-con"},[a("div",{staticClass:"conversation-box"},[a("div",{staticClass:"name-circle light-yellow"},[a("img",{staticClass:"img-circle avatar",attrs:{src:e.blobUrl,width:"51",height:"51",alt:"Image"}})]),a("div",{staticClass:"conversation-header addednote-ticket"},[a("span",[a("span",{staticClass:"sender-department"},[e._v(" "+e._s(s.EXPENSE_COMMENT_DESC))])])]),a("div",{staticClass:"conversation-content"},[a("div",{staticClass:"col-12 p-0 notesdata"},[a("h6",{staticClass:"text-muted time"},[a("i",[a("b",[e._v(e._s(s.CREATED_BY))]),e._v(", "+e._s(e.$t("PostedOn"))+": "),a("span",{staticClass:"text-danger"},[e._v(e._s(s.CREATED_AT))])])])])])])])]):e._e()])})),0)])})),0)]):e._e(),e.noRecordForTab&&0==e.isSingleCommentforMultipleExpenses?a("div",{staticClass:"text-center text-danger border p-3 mt-4"},[e._v(e._s(e.$t("NoRecordfound")))]):e._e()])])],1)])])])])},i=[],l=a("9769"),o={props:{expenseid:{type:String,required:!0},CommentHeader:{type:String,required:!0},isSingleCommentforMultipleExpenses:{type:Number,required:!0},statuscode:{type:String,required:!0},visibility:{type:Number,required:!0},access:{type:Number,required:!0}},data:function(){return{isLoading:!1,CommentTitle:"",Commentdesc:"",Expense_Id:"",userid:"",usertype:"",CommentExpenseData:[],showModelClientCompany:!1,SelectedVale:"",objectPostString:"",noRecordForTab:!0,SkipParam:!1,containerName:null,avatar:"",blobUrl:""}},created:function(){this.userid=this.GetUserInfo.ID,this.usertype=this.GetUserInfo.UserType,this.containerName=this.GetUserInfo.ContainerName,this.CommentList(),this.GetBlobUrl()},updated:function(){this.CommentList(),this.GetBlobUrl()},methods:{GetBlobUrl:function(){l["a"].GetBlobUrl().then(e=>{var t=e.data[0].CONFIG_DATA_VALUE;null==this.avatar?this.blobUrl="/Content/images/DefaultImages/uc_user_new.jpg":this.blobUrl=t+"/"+this.containerName+"/Upload/UserProfileImage/"+this.avatar})},Skip:function(){this.showModelClientCompany=!0,this.CommentTitle="",this.Commentdesc="",this.SkipParam=!0},CloseExpenseComments:function(){this.$emit("CloseExpenseComments")},PostNewComment:function(e,t){var a=this;a.$refs.CommentForm.validate().then(e=>{if(e){var t={ExpenseCommentId:0,CommentTitle:a.CommentTitle,Commentdesc:a.Commentdesc,Expense_Id:a.expenseid,EXPENSE_ACCESS:1,StatusId:1001},s=JSON.stringify(t);l["a"].SaveComment(s).then((function(e){200==e.status&&(a.ShowAlert(a.$t("AddedSuccess",[a.$t("Comments")]),"success",!0,a.$t("Alert")),a.noRecordForTab=!1,a.CommentTitle="",a.Commentdesc="",a.$refs.CommentForm.reset(),a.CommentList())}))}})},APostNewComment:function(e,t){var a=this;a.$refs.CommentForm.validate().then(e=>{a.$refs.CommentForm.errors.ReimburseBy.length>0&&(e=!0),a.$refs.CommentForm.errors.Description.length>0&&(e=!1),a.$refs.CommentForm.errors.Title.length>0&&(e=!1),e?"EXP_SEND_FOR_CORRECTION"==a.statuscode?(a.showModelClientCompany=!1,a.noRecordForTab=!1,a.SubmitExpenseApproval()):0==a.SkipParam&&(a.showModelClientCompany=!0):console.log(a.$refs.CommentForm.errors)})},CommentList:function(){var e=this;e.isLoading=!0;var t="id="+e.expenseid;l["a"].CommentsList(t).then((function(t){if(null!=t.data){e.CommentExpenseData=[];var a=t.data,s="";$.each(a,$.proxy((function(t,i){s=e.$options.filters.formatDate(i.CREATED_AT);var l=$.grep(e.CommentExpenseData,(function(e,t){return e.groupKey==s}));if(0==l.length){var o=$.grep(a,(function(t,a){return e.$options.filters.formatDate(t.CREATED_AT)==s}));if(o.length>0){var r={groupKey:s,groupData:o};e.CommentExpenseData.push(r),e.avatar=e.CommentExpenseData[0].groupData[0].avatar,e.noRecordForTab=!1}}}),this))}else e.noRecordForTab=!0,e.ExpenseData=[];e.ExpenseData=[],e.isLoading=!1}))},SubmitExpenseApproval:function(e,t,a){var s=this;s.$refs.CommentForm.validate().then(e=>{"Skip"==a?(s.$refs.CommentForm.errors.Description.length>0&&(e=!0),s.$refs.CommentForm.errors.Title.length>0&&(e=!0),s.$refs.CommentForm.errors.ReimburseBy.length>0&&(e=!1)):e=!0,e&&s.confirmR(s.$t("ExpenseApprove"),!0,s.$t("Delete")+"  "+s.$t("ExpenseApproval"),(function(){var e=`ids=${s.expenseid}&statusCode=${s.statuscode}&approvalTypeId=2&CommentTitle=${s.CommentTitle}&Commentdesc=${s.Commentdesc}&commentAccess=1&isForciable=0&isOverridable=0&reimburseBy=${s.SelectedVale}`;l["a"].AddApproverStatusListing(e).then((function(e){200==e.status&&("EXP_APPROVED"==s.statuscode?(s.$emit("CloseExpenseComments"),s.$emit("fetchdata"),$("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),$("[id^='SendForReject']").removeClass("enable").addClass("disabled"),$("[id^='SendForApprove']").removeClass("enable").addClass("disabled"),s.ShowAlert(s.$t("ExpenseApproveReject",[s.$t("Approve")]),"success",!0,s.$t("Alert"))):"EXP_REJECTED"==s.statuscode?(s.$emit("CloseExpenseComments"),s.$emit("fetchdata"),$("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),$("[id^='SendForReject']").removeClass("enable").addClass("disabled"),$("[id^='SendForApprove']").removeClass("enable").addClass("disabled"),s.ShowAlert(s.$t("ExpenseApproveReject",[s.$t("Decline")]),"success",!0,s.$t("Alert"))):(s.$emit("CloseExpenseComments"),s.$emit("fetchdata"),s.ShowAlert(s.$t("ExpenseApproveSendForCorrection",[s.$t("SendForCorrection")]),"success",!0,s.$t("Alert"))))}))}))})}}},r=o,n=a("2877"),c=Object(n["a"])(r,s,i,!1,null,null,null);t["a"]=c.exports},a090:function(e,t,a){"use strict";var s=a("9c20"),i=a.n(s);i.a}}]);
//# sourceMappingURL=chunk-6e15ac1f.js.map