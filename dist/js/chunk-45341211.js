(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-45341211"],{"05a5":function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"col-md-12 p-0"},[t("div",{staticClass:"theme-primary partition"},[e.header?t("span",{staticClass:"p-name text-white"},[e._v(e._s(e.GetLocalizedValue(e.header)))]):e._e()])]),e.showExpenseContent()?t("div",{staticClass:"pt-2 mb-1 w-100 d-none d-lg-block"},[e._m(0)]):e._e(),e.showExpenseContent()?t("div",{staticClass:"mt-2",staticStyle:{"max-height":"700px"},attrs:{id:"divscrollsetuptabs"}},[t("ul",{staticClass:"nav nav-pills flex-column left-tab responivecustomtab lefttabiconfix lefttabflexible",attrs:{id:"upper",role:"tablist"}},e._l(e.Fields,(function(a){return t("li",[t("a",{staticClass:"nav-link left-menu",attrs:{"data-toggle":"tab",href:a.href,id:a.id,privilege:a.privilege},on:{click:function(t){return e.setActiveKey(a)}}},[t("i",{class:a.fieldIcon,attrs:{"aria-hidden":"true"}}),e._v("   "+e._s(e.GetLocalizedValue(a.fieldName))+" ")])])})),0)]):e._e(),e.showExpenseContent()?e._e():t("div",{staticClass:"accordion md-accordion left-filter mt-2",attrs:{id:"accordionEx",role:"tablist","aria-multiselectable":"true"}},[t("div",{staticClass:"card"},[t("div",{staticClass:"card-header filter-head",attrs:{role:"tab",id:"headingOne1"}},[t("h5",{staticClass:"mb-0"},[t("em",{staticClass:"fa fa-filter",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.GetLocalizedValue(e.$t("Search")))+" "),t("span",{staticClass:"expand_all_filters"},[t("span",{attrs:{id:"SearchData"},on:{click:function(t){return e.SearchData()}}},[t("a",{staticClass:"collapsed",attrs:{href:"javascript:;",title:e.$t("Search"),"data-toggle-tooltip":"tooltip"}},[t("em",{staticClass:"fa fa-search",attrs:{"aria-hidden":"true"}})])]),t("span",{on:{click:function(t){return e.ClearFilter()}}},[t("a",{staticClass:"collapsed",attrs:{title:e.$t("Reset"),href:"javascript:;","data-toggle-tooltip":"tooltip"}},[t("em",{staticClass:"fa fa-repeat",attrs:{"aria-hidden":"true"}})])]),t("span",{staticClass:"collapsed",attrs:{"data-target":".multi-collapse","data-toggle":"collapse"},on:{click:function(t){return e.ExpandCollapsedAll()}}},[t("a",{staticClass:"collapsed",attrs:{href:"javascript:;",title:e.$t("ExpandAllCollapseAll"),"data-toggle-tooltip":"tooltip"}},[t("em",{staticClass:"fa fa-sort-desc",attrs:{"aria-hidden":"true"}})])])])])])]),t("div",{staticClass:"card-panel"},e._l(e.Fields,(function(a,s){return t("div",{key:s,staticClass:"card"},[t("div",{staticClass:"card-header",attrs:{role:"tab",id:"headingOnee"+s}},[t("h5",{staticClass:"mb-0"},[t("a",{staticClass:"collapsed",attrs:{"data-toggle":"collapse","data-parent":"#accordionEx",href:"#collapseOne"+s,"aria-expanded":"false","aria-controls":"collapseOne"+s}},[t("em",{class:"fa "+a.fieldIcon,attrs:{"aria-hidden":"true"}}),t("span",{class:{filter:a.isSearch}},[e._v(e._s(e.GetLocalizedValue(a.fieldName)))]),t("em",{staticClass:"fa fa-angle-down rotate-icon",attrs:{"aria-hidden":"true"}})]),t("a",{class:{"tab-Search-btn":!0,"d-block":a.value.length>0},attrs:{href:"javascript:;"},on:{click:function(t){return e.SearchData()}}},[t("em",{staticClass:"fa fa-search",attrs:{"aria-hidden":"true"}})])])]),t("div",{staticClass:"collapse multi-collapse",attrs:{id:"collapseOne"+s,role:"tabpanel","aria-labelledby":"headingOnee"+s,"data-parent":"#accordionEx"}},[t("div",{staticClass:"card-body pt-0"},["text"==a.fieldType?t("div",{staticClass:"form-group"},["checkbox"===(1==a.isNumeric?"number":"text")?t("input",{directives:[{name:"model",rawName:"v-model",value:a.value,expression:"field.value"}],staticClass:"form-control search",attrs:{placeholder:a.fieldName+" ",type:"checkbox"},domProps:{checked:Array.isArray(a.value)?e._i(a.value,null)>-1:a.value},on:{keydown:function(t){return e.SearchOnEnter(t,a)},change:function(t){var s=a.value,i=t.target,l=!!i.checked;if(Array.isArray(s)){var o=null,r=e._i(s,o);i.checked?r<0&&e.$set(a,"value",s.concat([o])):r>-1&&e.$set(a,"value",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(a,"value",l)}}}):"radio"===(1==a.isNumeric?"number":"text")?t("input",{directives:[{name:"model",rawName:"v-model",value:a.value,expression:"field.value"}],staticClass:"form-control search",attrs:{placeholder:a.fieldName+" ",type:"radio"},domProps:{checked:e._q(a.value,null)},on:{keydown:function(t){return e.SearchOnEnter(t,a)},change:function(t){return e.$set(a,"value",null)}}}):t("input",{directives:[{name:"model",rawName:"v-model",value:a.value,expression:"field.value"}],staticClass:"form-control search",attrs:{placeholder:a.fieldName+" ",type:1==a.isNumeric?"number":"text"},domProps:{value:a.value},on:{keydown:function(t){return e.SearchOnEnter(t,a)},input:function(t){t.target.composing||e.$set(a,"value",t.target.value)}}})]):e._e(),"date"==a.fieldType||"date-range"==a.fieldType?t("div",{staticClass:"form-group"},[t("div",{class:{"input-group":!0,"mb-2":"date-range"==a.fieldType}},[t("v-date-picker",{staticClass:"input-group",attrs:{popover:e.popover,"model-config":e.modelConfig,"minute-increment":5,name:"DateFrom"+s,change:e.SetMinMaxValueForDatePicker(a,"datefrom"),"max-date":a.datePickerConfig.maxDate},scopedSlots:e._u([{key:"default",fn:function({inputValue:s,inputEvents:i,togglePopover:l}){return[t("input",e._g({staticClass:"form-control",attrs:{placeholder:"date-range"==a.fieldType?e.$t("DateFrom"):a.fieldName},domProps:{value:s}},i)),t("div",{staticClass:"input-group-append",on:{click:function(e){return l()}}},[t("span",{staticClass:"input-group-text"},[t("em",{staticClass:"fa fa-calendar"})])])]}}],null,!0),model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"field.value"}})],1),"date-range"==a.fieldType?t("div",{class:{"input-group":!0,disabled:!a.secondDatePickerConfig.minDate}},[t("v-date-picker",{staticClass:"input-group",attrs:{popover:e.popover,"model-config":e.modelConfig,"minute-increment":5,name:"DateTo"+s,change:e.SetMinMaxValueForDatePicker(a,"dateto"),"min-date":a.secondDatePickerConfig.minDate},scopedSlots:e._u([{key:"default",fn:function({inputValue:a,inputEvents:s,togglePopover:i}){return[t("input",e._g({staticClass:"form-control",attrs:{placeholder:e.$t("DateTo")},domProps:{value:a}},s)),t("div",{staticClass:"input-group-append",on:{click:function(e){return i()}}},[t("span",{staticClass:"input-group-text"},[t("em",{staticClass:"fa fa-calendar"})])])]}}],null,!0),model:{value:a.secondValue,callback:function(t){e.$set(a,"secondValue",t)},expression:"field.secondValue"}})],1):e._e()]):e._e(),"radio"==a.fieldType||"checkbox"==a.fieldType?t("div",{staticClass:"form-group"},e._l(a.listOptions,(function(i,l){return t("div",{key:l,class:{"custom-control w-auto custom-control-inline":!0,"custom-radio":"radio"==a.fieldType,"custom-checkbox":"checkbox"==a.fieldType}},["radio"==a.fieldType?t("input",{directives:[{name:"model",rawName:"v-model",value:a.value,expression:"field.value"}],staticClass:"custom-control-input dynamic",attrs:{type:"radio",id:"customcheckbox"+s+l,name:"selectedDealOwner"},domProps:{value:i.value,checked:e._q(a.value,i.value)},on:{change:function(t){return e.$set(a,"value",i.value)}}}):e._e(),"checkbox"==a.fieldType?t("input",{staticClass:"custom-control-input dynamic",attrs:{type:"checkbox",id:"customcheckbox"+s+l,name:"selectedDealOwner"},domProps:{checked:e.CheckIfSelected(a,i.value),value:i.value},on:{change:function(t){return e.UpdateCheckedValues(a,i.value,t)}}}):e._e(),t("label",{staticClass:"custom-control-label",attrs:{for:"customcheckbox"+s+l}},[e._v(e._s(i.name))])])})),0):e._e(),"ddl-radio"==a.fieldType||"ddl-check"==a.fieldType?t("div",{staticClass:"form-group"},[t("vue-scroll",[t("div",{staticClass:"w-100 d-flex flex-wrap filterscroll filterscroll_leftsearch"},e._l(a.listOptions,(function(i,l){return t("button",{key:l,class:{"btn search-tag searchtagfloat float-left":!0,"d-none":e.CheckValueSelectedForbadge(i.value,a.value,a.isSearch)},attrs:{type:"button"}},[t("span",{staticClass:"tag-name"},[e._v(e._s(i.name))]),t("span",{staticClass:"badge text-dark",on:{click:function(t){return e.ClearFilerForbadge(i.value,a,s)}}},[e._v("×")])])})),0)]),t("div",{staticClass:"w-100"},[t("div",{staticClass:"p-0 mb-1 w-100"},[t("div",{staticClass:"input-group customsearchbox"},[t("input",{staticClass:"form-control searchcustomfilter border-right-0",attrs:{type:"text",Placeholder:e.$t("Search"),autocomplete:"off"}}),e._m(1,!0)])]),t("vue-scroll",[t("div",{staticClass:"form-group filterscroll filterscroll_leftsearch",staticStyle:{"max-height":"200px"}},["ddl-check"==a.fieldType?t("div",{staticClass:"custom-control custom-checkbox custom-control-inline w-100"},[t("input",{staticClass:"custom-control-input dynamic customcheckboxselectall",attrs:{id:"customcheckboxselectall"+s,type:"checkbox"},on:{change:function(t){return e.SelectAllRecords(a,t)}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"customcheckboxselectall"+s,type:"checkbox"}},[e._v("Select All")])]):e._e(),e._l(a.listOptions,(function(i,l){return t("div",{key:l,class:{"custom-control custom-checkbox custom-control-inline w-100":!0,"custom-radio":"ddl-radio"==a.fieldType,"custom-checkbox":"ddl-check"==a.fieldType}},["ddl-radio"==a.fieldType?t("input",{directives:[{name:"model",rawName:"v-model",value:a.value,expression:"field.value"}],staticClass:"custom-control-input dynamic",attrs:{type:"radio",id:"customcheckbox"+s+l,name:"selectedDealOwner"},domProps:{value:i.value,checked:e._q(a.value,i.value)},on:{change:function(t){return e.$set(a,"value",i.value)}}}):e._e(),"ddl-check"==a.fieldType?t("input",{staticClass:"custom-control-input dynamic",attrs:{type:"checkbox",id:"customcheckbox"+s+l,name:"selectedDealOwner"},domProps:{checked:e.CheckIfSelected(a,i.value),value:i.value},on:{change:function(t){return e.UpdateCheckedValues(a,i.value,t,"customcheckboxselectall"+s)}}}):e._e(),t("label",{staticClass:"custom-control-label",attrs:{for:"customcheckbox"+s+l}},[e._v(e._s(i.name))])])}))],2)])],1)],1):e._e()])])])})),0)]),e.showExpenseContent()?e._e():t("div",{staticClass:"bottom_filter_button",on:{click:e.ExpandAllCollapseAll}},[t("a",{staticClass:"collapsed",attrs:{href:"javascript:;","data-target":".multi-collapse","data-toggle":"collapse"},on:{click:e.ExpandCollapsedAll}},[e._v(e._s(e.$t("ExpandAllCollapseAll")))])])])},i=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"input-group customsearchbox"},[t("input",{staticClass:"form-control searchcustomfilter border-right-0",attrs:{type:"text",maxlength:"50",placeholder:"Search by Name",autocomplete:"off"}}),t("div",{staticClass:"input-group-append"},[t("span",{staticClass:"input-group-text bg-transparent bg-white border-left-0"},[t("i",{staticClass:"fa fa-search"})])])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"input-group-append"},[t("span",{staticClass:"input-group-text bg-transparent bg-white border-left-0"},[t("em",{staticClass:"fa fa-search"})])])}],l=(a("14d9"),a("c1df")),o=a.n(l),r={props:{fields:{type:Array,required:!0},header:{type:String,required:!0},modulename:{type:String,required:!0},for:{type:String,required:!1}},data:function(){return{Fields:this.fields,popover:{visibility:"click"},modelConfig:{type:"string",mask:"YYYY-MM-DD"}}},watch:{fields:function(e){this.Fields=null!=e&&e.length>0?e:[]}},created:function(){},methods:{showExpenseContent(){return"ExpenseReport"==this.for},isBlank:function(e){return!e||/^\s*$/.test(e)},GetLocalizedValue:function(e,t){try{if(this.isBlank(t)){var a=this.$t(String(e).toUpperCase());return a!=String(e).toUpperCase()?a:(a=this.$t(String(e)),a||1==/^\s*$/.test(a)?a:e)}a=this.$t(String(t).toUpperCase());return a!=String(t).toUpperCase()?a:(a=this.$t(String(t)),a||1==/^\s*$/.test(a)?a:t)}catch(s){console.log(s)}},ExpandCollapsedAll:function(){},ClearFilter:function(){$.each(this.Fields,(function(e,t){t.isSearch=!1,t.value="",t.secondValue="","ddl-check"==t.fieldType&&$("#customcheckboxselectall"+e).prop("checked",!1),$(".tab-Search-btn").css("display","none")})),$(".searchcustomfilter").val(""),$(".searchcustomfilter").trigger("keyup"),this.SearchData()},CheckValueSelectedForbadge:function(e,t,a){var s=t.split(",");return!s.includes(e)||1!=a},ClearFilerForbadge:function(e,t,a){var s=t.value.split(","),i=s.indexOf(e);s.splice(i,1),t.value=s.join(",");try{"ddl-check"==t.fieldType&&(t.value.split(",").length==t.listOptions.length?$("#customcheckboxselectall"+a).prop("checked",!0):$("#customcheckboxselectall"+a).prop("checked",!1))}catch(l){}this.SearchData()},UpdateCheckedValues:function(e,t,a,s){if(1==a.target.checked)if(""!=e.value){var i=e.value.split(",");i.push(t),e.value=i.join(",")}else e.value=t;else{i=e.value.split(",");var l=i.indexOf(t);i.splice(l,1),e.value=i.join(",")}try{e.value.split(",").length==e.listOptions.length?$("#"+s).prop("checked",!0):$("#"+s).prop("checked",!1)}catch(o){}},CheckIfSelected:function(e,t){var a=e.value.split(","),s=a.indexOf(t);return s>-1},SetMinMaxValueForDatePicker:function(e,t){if("date-range"==e.fieldType)if("datefrom"==t&&null!=e.value&&""!=e.value){var a=o()(e.value,e.datePickerConfig.format);e.secondDatePickerConfig.minDate=new Date(a)}else if("dateto"==t&&null!=e.secondValue&&""!=e.secondValue){a=o()(e.secondValue,e.secondDatePickerConfig.format);e.datePickerConfig.maxDate=new Date(a)}},SearchData:function(){var e=this,t="";"CRM"!=e.modulename&&"HR"!=e.modulename&&"Expenses"!=e.modulename&&"FSM"!=e.modulename&&"ExpenseApproval"!=e.modulename||$.each(e.Fields,(function(a,s){switch(s.fieldType){case"text":if(s.value.length>0&&s.fieldSearchConditionName.length>0){t+=""!=$.trim(t)?" AND (":"(";var i="",l=s.value.replace(/'/g,"''");s.fieldSearchConditionName.forEach((function(e){i+=""!=$.trim(i)?" OR ":"(",i+=" "+e+" LIKE '%"+l+"%'"}));var r="";s.fieldSearchConditionName.length>1&&(r="/CRM/ContactListing"==e.$route.path?" OR "+s.fieldSearchConditionName.join(" %2B ' ' %2B ")+" LIKE '%"+l+"%'":" OR "+s.fieldSearchConditionName.join("+' '+")+" LIKE '%"+l+"%'"),i+=r+")",t+=i+")",s.isSearch=!0}else s.isSearch=!1;break;case"ddl-radio":case"radio":if(s.value.length>0&&s.fieldSearchConditionName.length>0){t+=""!=$.trim(t)?" AND (":"(";i="";s.fieldSearchConditionName.forEach((function(e){i+=""!=$.trim(i)?" OR ":"(",i+=" "+e+" = '"+s.value+"'"})),i+=")",t+=i+")",s.isSearch=!0}else s.isSearch=!1;break;case"ddl-check":case"checkbox":if(s.value.length>0&&s.fieldSearchConditionName.length>0){t+=""!=$.trim(t)?" AND (":"(";i="";var n=s.value.split(","),c="'"+n.join("','")+"'";s.fieldSearchConditionName.forEach((function(e){i+=""!=$.trim(i)?" OR ":"(",i+=" "+e+" in ("+c+")"})),i+=")",t+=i+")",s.isSearch=!0}else s.isSearch=!1;break;case"date":if(null!=s.value&&s.value.length>0&&s.fieldSearchConditionName.length>0){t+=""!=$.trim(t)?" AND (":"(";i="";var d=o()(s.value,s.datePickerConfig.format),u=d.format("YYYY-MM-DD");s.fieldSearchConditionName.forEach((function(e){i+=""!=$.trim(i)?" OR ":"(",i+=" CONVERT(DATE, "+e+") = '"+u+"'"})),i+=")",t+=i+")",s.isSearch=!0}else s.isSearch=!1;break;case"date-range":if((null!=s.value&&s.value.length>0||null!=s.secondValue&&s.secondValue.length>0)&&s.fieldSearchConditionName.length>0){t+=""!=$.trim(t)?" AND (":"(";i="";s.fieldSearchConditionName.forEach((function(e){i+=""!=$.trim(i)?" OR ":"(";var t=e.split("|"),a="";if(null!=s.value&&s.value.length>0){let e=o()(s.value,s.datePickerConfig.format),i=e.format("YYYY-MM-DD");a=" CONVERT(DATE, "+t[0]+") >= '"+i+"'"}if(null!=s.secondValue&&s.secondValue.length>0){let e=o()(s.secondValue,s.secondDatePickerConfig.format),i=e.format("YYYY-MM-DD");a+=""!=$.trim(a)?" AND ":"",a+=" CONVERT(DATE, "+t[1]+") <= '"+i+"'"}i+=a})),i+=")",t+=i+")",s.isSearch=!0}else s.isSearch=!1;break}})),this.$emit("SetLeftSearch",{PageNumber:1,searchCondition:t})},SearchOnEnter:function(e,t){void 0!=t.isNumeric&&1==t.isNumeric&&0==/[0-9]/.test(e.key)&&"Backspace"!=e.key&&e.preventDefault(),13==e.keyCode&&this.SearchData()},SelectAllRecords:function(e,t){if(1==t.target.checked){var a="";e.listOptions.forEach((function(e){a+=""==a?e.value:","+e.value})),e.value=a}else e.value=""},setActiveKey(e){let t=1;switch(e.id){case"aExpenseOverLimitReport":t=1;break;case"aExpenseReport":t=2;break;case"aReimbursementReport":t=3;break;default:break}this.$emit("SetLeftSearch",t)}}},n=r,c=(a("8ab2"),a("2877")),d=Object(c["a"])(n,s,i,!1,null,null,null);t["a"]=d.exports},"1a19":function(e,t,a){var s=a("24fb");t=s(!1),t.push([e.i,".__bar-is-horizontal,.__bar-is-vertical{background:#929292!important}",""]),e.exports=t},8393:function(e,t,a){var s=a("1a19");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("499e").default;i("1bb13c56",s,!0,{sourceMap:!1,shadowMode:!1})},"8ab2":function(e,t,a){"use strict";a("8393")},"9d1d":function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"my-popups"},[t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header"},[t("h5",{staticClass:"modal-title"},[e._v(" "+e._s(this.CommentHeader)+" ")]),t("button",{staticClass:"close",attrs:{href:"javascript:;"},on:{click:function(t){return e.CloseExpenseComments()}}},[t("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),t("div",{staticClass:"modal-body"},[t("Form",{ref:"CommentForm",scopedSlots:e._u([{key:"default",fn:function({valid:a,errors:s}){return[1==e.visibility?t("div",{class:{"d-none":1==e.showModelClientCompany}},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"form-group"},[t("label",[e._v(e._s(e.$t("Title"))+":"),t("span",{staticClass:"text-danger"},[e._v("*")])]),t("Field",{attrs:{name:"Title",rules:{required:!0},label:"Title"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t("input",{directives:[{name:"model",rawName:"v-model",value:e.CommentTitle,expression:"CommentTitle"}],class:{"form-control":!0,"is-invalid":a[0]},attrs:{name:"Title",id:"Title",type:"text"},domProps:{value:e.CommentTitle},on:{input:function(t){t.target.composing||(e.CommentTitle=t.target.value)}}}),a[0]?t("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Name"}},[e._v(e._s(a[0]))]):e._e()]}}],null,!0)})],1),t("div",{staticClass:"form-group"},[t("label",[e._v(e._s(e.$t("Description"))+":"),t("span",{staticClass:"text-danger"},[e._v("*")])]),t("Field",{attrs:{name:"Description",rules:{required:!0},label:"Description"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.Commentdesc,expression:"Commentdesc"}],class:{"form-control":!0,"is-invalid":a[0]},staticStyle:{"max-height":"300px!important","min-height":"100px!important"},attrs:{maxlength:"1000",id:"description",name:"Description"},domProps:{value:e.Commentdesc},on:{input:function(t){t.target.composing||(e.Commentdesc=t.target.value)}}}),e._v(" "),a[0]?t("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Name"}},[e._v(e._s(a[0]))]):e._e()]}}],null,!0)})],1),1==e.access?t("div",{staticClass:"form-group d-none"},[t("label",[e._v("Visibility:"),t("span",{staticClass:"text-danger"},[e._v("*")])]),t("div",{staticClass:"form-control pl-0 border-0"},[t("Field",{attrs:{name:"ReimburseBy",rules:{required:!0},label:"Reimburse By"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t("div",{staticClass:"form-check form-check-inline"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.SelectedVale,expression:"SelectedVale"}],attrs:{type:"radio",id:"Public",value:"Public",name:"Public"},domProps:{checked:e._q(e.SelectedVale,"Public")},on:{change:function(t){e.SelectedVale="Public"}}}),t("label",{staticClass:"form-check-label font-weight-normal ml-2",attrs:{for:"Client"}},[e._v(e._s(e.$t("Public")))])]),t("div",{staticClass:"form-check form-check-inline"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.SelectedVale,expression:"SelectedVale"}],attrs:{type:"radio",id:"Private",value:"Private",name:"Company"},domProps:{checked:e._q(e.SelectedVale,"Private")},on:{change:function(t){e.SelectedVale="Private"}}}),t("label",{staticClass:"form-check-label font-weight-normal ml-2",attrs:{for:"Company"}},[e._v(e._s(e.$t("Private")))])]),a[0]?t("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Name"}},[e._v(e._s(a[0]))]):e._e()]}}],null,!0)})],1)]):e._e()]),t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"row flex-row-reverse"},[1==e.isSingleCommentforMultipleExpenses?t("div",{staticClass:"col-lg-6 text-right"},[t("a",{staticClass:"btn btn-danger mr-2",attrs:{title:"Skip",href:"javascript:;"},on:{click:function(t){return e.Skip(a,s)}}},[t("span",[e._v(e._s(e.$t("Skip")))]),t("em",{staticClass:"fa fa-forward pl-2"})]),t("a",{staticClass:"btn btn-success",attrs:{title:e.$t("PostNewComment"),href:"javascript:;"},on:{click:function(t){return e.APostNewComment(a,s)}}},[t("em",{staticClass:"fa fa-send pr-2"}),t("span",[e._v(e._s(e.$t("PostNewComment")))])])]):e._e(),0==e.isSingleCommentforMultipleExpenses?t("div",{staticClass:"col-lg-6 text-right"},[t("a",{staticClass:"btn btn-success",attrs:{id:"postcomment",title:e.$t("PostNewComment"),href:"javascript:;"},on:{click:function(t){return e.PostNewComment(a,s)}}},[t("em",{staticClass:"fa fa-send pr-2"}),e._v(e._s(e.$t("PostNewComment")))])]):e._e(),t("div",{staticClass:"col-lg-6"},[t("div",{staticClass:"py-2"},[t("small",{staticClass:"text-danger mandatory"},[e._v(e._s(e.$t("MandatoryString")))])])])])])])]):e._e(),1==e.isSingleCommentforMultipleExpenses?t("div",[t("div",{staticClass:"col-lg-12"},[e.showModelClientCompany?t("div",{staticClass:"row"},[t("div",{staticClass:"w-100 col-12"},[t("div",{staticClass:"alert alert-warning mb-3"},[e._v(" "+e._s(e.$t("ExpenseEntryWillBeReimbursedBy"))+" ")]),t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left p-0"},[t("div",{staticClass:"form-group"},[t("label",[e._v(e._s(e.$t("ReimburseBy"))+":"),t("span",{staticClass:"text-danger"},[e._v("*")])]),t("div",{staticClass:"form-control pl-0 border-0"},[t("Field",{attrs:{name:"ReimburseBy",rules:{required:!0},label:"Reimburse By"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t("div",{staticClass:"form-check form-check-inline"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.SelectedVale,expression:"SelectedVale"}],attrs:{type:"radio",id:"Client",value:"Client",name:"ReimburseBy"},domProps:{checked:e._q(e.SelectedVale,"Client")},on:{change:function(t){e.SelectedVale="Client"}}}),t("label",{staticClass:"form-check-label font-weight-normal ml-2",attrs:{for:"Client"}},[e._v(e._s(e.$t("Client")))])]),t("div",{staticClass:"form-check form-check-inline"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.SelectedVale,expression:"SelectedVale"}],attrs:{type:"radio",id:"Company",value:"Company",name:"ReimburseBy"},domProps:{checked:e._q(e.SelectedVale,"Company")},on:{change:function(t){e.SelectedVale="Company"}}}),t("label",{staticClass:"form-check-label font-weight-normal ml-2",attrs:{for:"Company"}},[e._v(e._s(e.$t("Company")))])]),a[0]?t("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Name"}},[e._v(e._s(a[0]))]):e._e()]}}],null,!0)})],1)])]),t("div",{staticClass:"col-lg-12 text-right p-0"},[t("div",{staticClass:"search-btm-btn"},[t("a",{staticClass:"btn btn-success",attrs:{title:"submit",href:"javascript:;"},on:{click:function(t){return e.SubmitExpenseApproval(a,s)}}},[t("i",{staticClass:"fa fa-save pr-2"}),e._v(e._s(e.$t("Submit")))])])])])]):e._e()])]):e._e()]}}])}),t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-12"},[0==e.isSingleCommentforMultipleExpenses?t("div",{staticClass:"listing"},[t("div",{staticClass:"w-100 activity-tab",attrs:{id:"Expenseaccordion"}},e._l(e.CommentExpenseData,(function(a,s){return t("div",{key:s,staticClass:"card"},[t("div",{staticClass:"card-header"},[t("a",{staticClass:"card-link collapsed",attrs:{"data-toggle":"collapse",href:"#Expensecollapse"+s}},[t("div",{staticClass:"conversation-date heading-border"},[t("span",[t("em",{staticClass:"pr-1",attrs:{"aria-hidden":"true"}}),e._v(e._s(a.groupKey))])])])]),t("div",{class:{collapse:!0,show:0==s},attrs:{id:"Expensecollapse"+s}},e._l(a.groupData,(function(a,s){return t("div",{key:s,staticClass:"card-body"},[1==a.EXPENSE_ACCESS?t("div",{staticClass:"conversation-main"},[t("div",{staticClass:"conversation-time"},[t("span",[e._v(e._s(e.$options.filters.formatTime(a.CREATED_AT)))])]),t("div",{staticClass:"conversation-box-con"},[t("div",{staticClass:"conversation-box"},[t("div",{staticClass:"name-circle light-yellow"},[t("img",{staticClass:"img-circle avatar",attrs:{src:e.blobUrl,width:"51",height:"51",alt:"Image"}})]),t("div",{staticClass:"conversation-header addednote-ticket"},[t("span",[t("span",{staticClass:"sender-name"},[e._v(e._s(a.EXPENSE_COMMENT_TITLE))]),t("span",{staticClass:"sender-department",attrs:{title:"@item.EXPENSE_COMMENT_DESC"}},[e._v(" ("+e._s(a.EXPENSE_COMMENT_DESC)+")")])])]),t("div",{staticClass:"conversation-content"},[t("div",{staticClass:"col-12 p-0 notesdata"},[t("h6",{staticClass:"text-muted time"},[t("i",[t("b",[e._v(e._s(a.CREATED_BY))]),e._v(", "+e._s(e.$t("PostedOn"))+": "),t("span",{staticClass:"text-danger"},[e._v(e._s(e.$options.filters.formatDateTime(a.CREATED_AT)))])])])])])])])]):e._e(),0==a.EXPENSE_ACCESS?t("div",{staticClass:"conversation-main"},[t("div",{staticClass:"conversation-time"},[t("span",[e._v(e._s(a.CREATED_AT))])]),t("div",{staticClass:"conversation-box-con"},[t("div",{staticClass:"conversation-box"},[t("div",{staticClass:"name-circle light-yellow"},[t("img",{staticClass:"img-circle avatar",attrs:{src:e.blobUrl,width:"51",height:"51",alt:"Image"}})]),t("div",{staticClass:"conversation-header addednote-ticket"},[t("span",[t("span",{staticClass:"sender-department"},[e._v(" "+e._s(a.EXPENSE_COMMENT_DESC))])])]),t("div",{staticClass:"conversation-content"},[t("div",{staticClass:"col-12 p-0 notesdata"},[t("h6",{staticClass:"text-muted time"},[t("i",[t("b",[e._v(e._s(a.CREATED_BY))]),e._v(", "+e._s(e.$t("PostedOn"))+": "),t("span",{staticClass:"text-danger"},[e._v(e._s(a.CREATED_AT))])])])])])])])]):e._e()])})),0)])})),0)]):e._e(),e.noRecordForTab&&0==e.isSingleCommentforMultipleExpenses?t("div",{staticClass:"text-center text-danger border p-3 mt-4"},[e._v(e._s(e.$t("NoRecordfound")))]):e._e()])])],1)])])])])},i=[],l=(a("14d9"),a("9769")),o={props:{expenseid:{type:String,required:!0},CommentHeader:{type:String,required:!0},isSingleCommentforMultipleExpenses:{type:Number,required:!0},statuscode:{type:String,required:!0},visibility:{type:Number,required:!0},access:{type:Number,required:!0}},data:function(){return{isLoading:!1,CommentTitle:"",Commentdesc:"",Expense_Id:"",userid:"",usertype:"",CommentExpenseData:[],showModelClientCompany:!1,SelectedVale:"",objectPostString:"",noRecordForTab:!0,SkipParam:!1,containerName:null,avatar:"",blobUrl:""}},created:function(){this.userid=this.GetUserInfo.ID,this.usertype=this.GetUserInfo.UserType,this.containerName=this.GetUserInfo.ContainerName,this.CommentList(),this.GetBlobUrl()},methods:{GetBlobUrl:function(){l["a"].GetBlobUrl().then(e=>{var t=e.data[0].CONFIG_DATA_VALUE;null==this.avatar?this.blobUrl="/Content/images/DefaultImages/uc_user_new.jpg":this.blobUrl=t+"/"+this.containerName+"/Upload/UserProfileImage/"+this.avatar})},Skip:function(){this.showModelClientCompany=!0,this.CommentTitle="",this.Commentdesc="",this.SkipParam=!0},CloseExpenseComments:function(){this.$emit("CloseExpenseComments")},PostNewComment:function(e,t){var a=this;a.$refs.CommentForm.validate().then(e=>{if(e){var t={ExpenseCommentId:0,CommentTitle:a.CommentTitle,Commentdesc:a.Commentdesc,Expense_Id:a.expenseid,EXPENSE_ACCESS:1,StatusId:1001},s=JSON.stringify(t);l["a"].SaveComment(s).then((function(e){200==e.status&&(a.ShowAlert(a.$t("AddedSuccess",[a.$t("Comments")]),"success",!0,a.$t("Alert")),a.noRecordForTab=!1,a.CommentList())}))}})},APostNewComment:function(e,t){var a=this;a.$refs.CommentForm.validate().then(e=>{a.$refs.CommentForm.errors.ReimburseBy.length>0&&(e=!0),a.$refs.CommentForm.errors.Description.length>0&&(e=!1),a.$refs.CommentForm.errors.Title.length>0&&(e=!1),e?"EXP_SEND_FOR_CORRECTION"==a.statuscode?(a.showModelClientCompany=!1,a.noRecordForTab=!1,a.SubmitExpenseApproval()):0==a.SkipParam&&(a.showModelClientCompany=!0):console.log(a.$refs.CommentForm.errors)})},CommentList:function(){var e=this;e.isLoading=!0;var t="id="+e.expenseid;l["a"].CommentsList(t).then((function(t){if(null!=t.data){e.CommentExpenseData=[];var a=t.data,s="";$.each(a,$.proxy((function(t,i){s=e.$options.filters.formatDate(i.CREATED_AT);var l=$.grep(e.CommentExpenseData,(function(e,t){return e.groupKey==s}));if(0==l.length){var o=$.grep(a,(function(t,a){return e.$options.filters.formatDate(t.CREATED_AT)==s}));if(o.length>0){var r={groupKey:s,groupData:o};e.CommentExpenseData.push(r),e.avatar=e.CommentExpenseData[0].groupData[0].avatar,e.noRecordForTab=!1}}}),this))}else e.noRecordForTab=!0,e.ExpenseData=[];e.ExpenseData=[],e.isLoading=!1}))},SubmitExpenseApproval:function(e,t){var a=this;a.$refs.CommentForm.validate().then(e=>{a.$refs.CommentForm.errors.ReimburseBy.length>0&&(e=!1),a.$refs.CommentForm.errors.Description.length>0&&(e=!0),a.$refs.CommentForm.errors.Title.length>0&&(e=!0),e?a.confirmR(a.$t("ExpenseApprove"),!0,a.$t("Delete")+"  "+a.$t("ExpenseApproval"),(function(){var e=`ids=${a.expenseid}&statusCode=${a.statuscode}&approvalTypeId=2&CommentTitle=${a.CommentTitle}&Commentdesc=${a.Commentdesc}&commentAccess=1&isForciable=0&isOverridable=0&reimburseBy=${a.SelectedVale}`;l["a"].AddApproverStatusListing(e).then((function(e){200==e.status&&("EXP_APPROVED"==a.statuscode?(a.$emit("CloseExpenseComments"),a.$emit("fetchdata"),$("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),$("[id^='SendForReject']").removeClass("enable").addClass("disabled"),$("[id^='SendForApprove']").removeClass("enable").addClass("disabled"),a.ShowAlert(a.$t("ExpenseApproveReject",[a.$t("Approve")]),"success",!0,a.$t("Alert"))):"EXP_REJECTED"==a.statuscode?(a.$emit("CloseExpenseComments"),a.$emit("fetchdata"),$("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),$("[id^='SendForReject']").removeClass("enable").addClass("disabled"),$("[id^='SendForApprove']").removeClass("enable").addClass("disabled"),a.ShowAlert(a.$t("ExpenseApproveReject",[a.$t("Decline")]),"success",!0,a.$t("Alert"))):(a.$emit("CloseExpenseComments"),a.$emit("fetchdata"),a.ShowAlert(a.$t("ExpenseApproveSendForCorrection",[a.$t("SendForCorrection")]),"success",!0,a.$t("Alert"))))}))})):alert(a.$refs.CommentForm.errors)})}}},r=o,n=a("2877"),c=Object(n["a"])(r,s,i,!1,null,null,null);t["a"]=c.exports}}]);
//# sourceMappingURL=chunk-45341211.js.map